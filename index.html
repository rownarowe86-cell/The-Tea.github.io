<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Tea ☕</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Firebase SDKs - Using fixed versions and non-module script tags for better error isolation -->
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore-compat.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600&display=swap');
    
    body {
      font-family: 'Inter', sans-serif;
      background-color: #fcfaf7;
    }
    
    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background-color: #e5e7eb;
      border-radius: 10px;
    }

    /* Simple checkbox styling to match the theme */
    input[type="checkbox"] {
      accent-color: #444;
    }
  </style>
</head>

<body class="text-stone-900 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-stone-950 text-white py-6 px-4 text-center border-b border-stone-800 shadow-lg">
    <h1 class="text-4xl font-bold italic tracking-tighter">The Tea</h1>
    <p class="text-stone-400 text-sm mt-1 uppercase tracking-widest">Est. 2024 • Strictly Off The Record</p>
  </header>

  <!-- Three Column Layout -->
  <main class="flex-grow max-w-[1600px] mx-auto w-full p-4 md:p-8 grid grid-cols-1 lg:grid-cols-12 gap-6">
    
    <!-- LEFT: About Section -->
    <div class="lg:col-span-3">
      <section class="bg-white p-6 rounded-2xl shadow-sm border border-stone-100 sticky top-8">
        <h2 class="text-xl font-bold mb-4 text-stone-900">About The Tea</h2>
        <p class="text-stone-600 text-sm leading-relaxed italic">
          "The kettle is screaming, and so are the headlines you haven’t seen yet. Welcome to The Tea, the only corner of the internet where the whispers are louder than the shouts. We aren't just spilling the truth; we’re brewing the scandals that others try to bury in the dark. So, pull up a chair, check your conscience at the door, and lower your voice—because what we’re about to pour is piping hot, strictly off the record, and absolutely delicious."
        </p>
      </section>
    </div>

    <!-- CENTER: Spill the Tea Form -->
    <div class="lg:col-span-4">
      <section class="bg-stone-900 text-white p-6 rounded-2xl shadow-xl sticky top-8">
        <h2 class="text-2xl font-bold mb-1">Spill the Tea</h2>
        <p class="text-stone-400 mb-6 text-xs uppercase tracking-wider">Release the negative energy.</p>

        <form id="teaForm" class="space-y-4">
          <textarea
            id="content"
            rows="6"
            placeholder="What's brewing?"
            class="w-full bg-stone-800 border-none text-white placeholder-stone-500 rounded-xl p-4 focus:ring-2 focus:ring-stone-500 outline-none transition-all resize-none"
            required
          ></textarea>

          <!-- Content Use Agreement Section -->
          <div class="bg-stone-800/50 p-4 rounded-xl border border-stone-700">
            <h4 class="text-[10px] font-bold uppercase tracking-widest text-stone-400 mb-2">Content Use Agreement</h4>
            <p class="text-[10px] text-stone-400 leading-tight mb-3 italic">
              By submitting content, you grant us permission to use, display, and share this content in any format or medium. You affirm that you hold all necessary rights and that it does not infringe on any third-party rights.
            </p>
            <label class="flex items-center gap-3 cursor-pointer group">
              <input type="checkbox" id="agreementCheckbox" class="w-4 h-4 rounded border-stone-600 bg-stone-700 text-stone-200">
              <span class="text-xs font-semibold text-stone-300 group-hover:text-white transition-colors">Agreed and Accepted</span>
            </label>
          </div>

          <button
            type="submit"
            id="submitBtn"
            enabled
            class="w-full bg-white text-stone-900 font-bold py-3 rounded-xl hover:bg-stone-200 enabled:opacity-30 enabled:cursor-not-allowed transition-all flex items-center justify-center gap-2"
          >
            Pour the Secret
          </button>
          
          <div id="statusMsg" class="text-center text-xs font-medium h-4"></div>
        </form>
      </section>
    </div>

    <!-- RIGHT: Recent Pours Feed -->
    <div class="lg:col-span-5">
      <div class="flex items-center justify-between mb-4 px-2">
        <h3 class="text-xl font-bold">Recent Pours</h3>
        <span class="bg-stone-200 text-stone-600 text-[10px] px-2 py-1 rounded-full uppercase font-bold tracking-widest">Live Feed</span>
      </div>
      
      <div id="feed" class="space-y-4 max-h-[calc(100vh-250px)] overflow-y-auto pr-2 custom-scrollbar">
        <div id="loader" class="animate-pulse space-y-4">
          <div class="h-24 bg-stone-100 rounded-xl border border-stone-200"></div>
          <div class="h-24 bg-stone-100 rounded-xl border border-stone-200"></div>
          <div class="h-24 bg-stone-100 rounded-xl border border-stone-200"></div>
        </div>
      </div>
    </div>

  </main>

  <footer class="p-6 text-center text-stone-400 text-[10px] border-t border-stone-200 bg-white mt-auto">
    &copy; 2024 The Tea. All whispers are anonymous. Sip at your own risk.
  </footer>
 
            <div class="bg-white p-5 rounded-xl shadow-sm border border-stone-100 hover:border-stone-300 transition-all">
              <div class="flex justify-between items-start mb-2">
                <span class="text-[9px] uppercase tracking-widest text-stone-400 font-bold italic">Anonymous • ${dateStr}</span>
                <div class="h-1.5 w-1.5 rounded-full bg-stone-200"></div>
              </div>
              <p class="text-stone-800 text-sm leading-relaxed">${cleanContent}</p>
            </div>
          `;
        }).join('');
      }
    });
  </script>
</body>
</html>
